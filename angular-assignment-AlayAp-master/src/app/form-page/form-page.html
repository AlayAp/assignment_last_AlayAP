<div class="form-container">
  <div class="form-header">
    <h1>Feedback Form</h1>
    <p>We'd love to hear your thoughts! Please fill out this form to share your feedback with us.</p>
  </div>

  @if (submissionStatus() === 'success') {
    <div class="success-message">
      <h3>✓ Success!</h3>
      <p>{{ submissionMessage() }}</p>
    </div>
  }

  <form [formGroup]="feedbackForm" (ngSubmit)="onSubmit()" class="feedback-form">
    <div class="form-row">
      <div class="form-group">
        <label for="name">Full Name *</label>
        <input 
          type="text" 
          id="name" 
          formControlName="name"
          [class.invalid]="isFieldInvalid('name')"
          placeholder="Enter your full name">
        @if (getFieldError('name')) {
          <div class="error-message">{{ getFieldError('name') }}</div>
        }
      </div>

      <div class="form-group">
        <label for="email">Email Address *</label>
        <input 
          type="email" 
          id="email" 
          formControlName="email"
          [class.invalid]="isFieldInvalid('email')"
          placeholder="Enter your email address">
        @if (getFieldError('email')) {
          <div class="error-message">{{ getFieldError('email') }}</div>
        }
      </div>
    </div>

    <div class="form-group">
      <label for="subject">Subject *</label>
      <input 
        type="text" 
        id="subject" 
        formControlName="subject"
        [class.invalid]="isFieldInvalid('subject')"
        placeholder="Brief subject of your feedback">
      @if (getFieldError('subject')) {
        <div class="error-message">{{ getFieldError('subject') }}</div>
      }
    </div>

    <div class="form-group">
      <label for="rating">Rating *</label>
      <select 
        id="rating" 
        formControlName="rating"
        [class.invalid]="isFieldInvalid('rating')">
        <option value="5">5 - Excellent</option>
        <option value="4">4 - Very Good</option>
        <option value="3">3 - Good</option>
        <option value="2">2 - Fair</option>
        <option value="1">1 - Poor</option>
      </select>
      @if (getFieldError('rating')) {
        <div class="error-message">{{ getFieldError('rating') }}</div>
      }
    </div>

    <div class="form-group">
      <label for="message">Message *</label>
      <textarea 
        id="message" 
        formControlName="message"
        [class.invalid]="isFieldInvalid('message')"
        rows="6"
        placeholder="Please share your detailed feedback here..."></textarea>
      @if (getFieldError('message')) {
        <div class="error-message">{{ getFieldError('message') }}</div>
      }
    </div>

    <div class="form-actions">
      <button 
        type="submit" 
        class="submit-btn"
        [disabled]="submissionStatus() === 'submitting'">
        @if (submissionStatus() === 'submitting') {
          <span class="loading-spinner"></span>
          Submitting...
        } @else {
          Submit Feedback
        }
      </button>
    </div>
  </form>

  <div class="form-info">
    <h3>Why your feedback matters:</h3>
    <ul>
      <li>🚀 <strong>Improve our services:</strong> Your input helps us enhance our offerings</li>
      <li>💡 <strong>Shape future features:</strong> Suggest new functionalities you'd like to see</li>
      <li>🤝 <strong>Build better experiences:</strong> Help us create more user-friendly solutions</li>
      <li>🎩 <strong>Priority support:</strong> Get faster responses to your concerns</li>
    </ul>
  </div>
</div>
