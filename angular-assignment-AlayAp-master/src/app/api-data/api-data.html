<div class="api-data-container">
  <div class="header">
    <h1>API Data Showcase</h1>
    <p>This page demonstrates fetching and displaying data from the JSONPlaceholder API</p>
  </div>

  <div class="tabs">
    <button 
      class="tab-button" 
      [class.active]="activeTab() === 'posts'"
      (click)="switchTab('posts')">
      Posts
    </button>
    <button 
      class="tab-button" 
      [class.active]="activeTab() === 'users'"
      (click)="switchTab('users')">
      Users
    </button>
  </div>

  <div class="content">
    @if (loading()) {
      <div class="loading">
        <div class="spinner"></div>
        <p>Loading data...</p>
      </div>
    } @else if (error()) {
      <div class="error">
        <h3>⚠️ Error</h3>
        <p>{{ error() }}</p>
        <button class="retry-btn" (click)="retry()">Try Again</button>
      </div>
    } @else {
      @if (activeTab() === 'posts') {
        <div class="posts-grid">
          @for (post of posts(); track post.id) {
            <div class="post-card">
              <h3>{{ post.title }}</h3>
              <p>{{ post.body }}</p>
              <div class="post-meta">
                <span class="post-id">Post #{{ post.id }}</span>
                <span class="user-id">By User {{ post.userId }}</span>
              </div>
            </div>
          }
        </div>
      } @else {
        <div class="users-grid">
          @for (user of users(); track user.id) {
            <div class="user-card">
              <h3>{{ user.name }}</h3>
              <div class="user-details">
                <p><strong>Username:</strong> {{ user.username }}</p>
                <p><strong>Email:</strong> {{ user.email }}</p>
                <p><strong>Phone:</strong> {{ user.phone }}</p>
                <p><strong>Website:</strong> {{ user.website }}</p>
                <p><strong>Company:</strong> {{ user.company.name }}</p>
                <p><strong>City:</strong> {{ user.address.city }}</p>
              </div>
            </div>
          }
        </div>
      }
    }
  </div>
</div>
